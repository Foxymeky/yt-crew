<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Novinky | Youtube crew</title>
</head>
<body>

<header class="header">
    <nav class="navbar">
        <div class="logo-wrapper">
            <div class="logo">Youtube crew</div>
            <img src="https://cdn.discordapp.com/icons/1359920482975092937/81b95047eb32eddfb9831fc39bcd3fe1.jpg" alt="Logo" class="youtube-icon">
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Dom≈Ø</a></li>
            <li><a href="novinky.html">Novinky</a></li>
            <li><a href="abt.html">O n√°s</a></li>
            <li><a href="kontakt.html">Kontakt</a></li>
        </ul>
    </nav>
</header>

<main>
    <section class="hero" style="background: linear-gradient(135deg, #ff0000, #1a1a1a); padding: 60px 20px; text-align: center;">
        <h1 class="future_text">Novinky z na≈°√≠ tvorby üöÄ</h1>
        <p>Sledujte, co se pr√°vƒõ dƒõje v Youtube crew.</p>
    </section>

    <section class="features" id="posts-container">
        <p id="loading">Naƒç√≠t√°m ƒçerstv√© novinky...</p>
    </section>
</main>

<footer class="discord-footer">
    <div class="discord-container">
        <p>¬© 2026 Youtube Crew. V≈°echna pr√°va vyhrazena.</p>
    </div>
</footer>

<script>
    // --- KONFIGURACE ---
    const GITHUB_USERNAME = 'TVOJE_JMENO'; // dopl≈à sv≈Øj nick
    const REPO_NAME = 'TVUJ_REPOZITAR';      // dopl≈à n√°zev repa
    const FOLDER_PATH = 'content/posts';

    async function fetchPosts() {
        const container = document.getElementById('posts-container');
        
        try {
            // U ve≈ôejn√©ho repa nepot≈ôebujeme Token!
            const response = await fetch(`https://api.github.com/repos/${GITHUB_USERNAME}/${REPO_NAME}/contents/${FOLDER_PATH}`);
            
            if (!response.ok) throw new Error("Slo≈æka s novinkami nebyla nalezena.");

            const files = await response.json();
            container.innerHTML = ''; 

            for (const file of files) {
                if (file.name.endsWith('.md')) {
                    // St√°hneme text souboru
                    const contentRes = await fetch(file.download_url);
                    const text = await contentRes.text();

                    // Vyt√°hneme titulek z Frontmattu (mezi title: "...")
                    const titleMatch = text.match(/title:\s*["']?(.*?)["']?$/m);
                    const title = titleMatch ? titleMatch[1] : file.name.replace('.md', '');

                    // Vytvo≈ô√≠me kartu
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <div style="color: #ff4757; font-size: 12px; margin-bottom: 10px; font-weight: bold;">UPDATE</div>
                        <h3>${title}</h3>
                        <p>Koukni na detaily nov√©ho p≈ô√≠spƒõvku!</p>
                        <a href="clanek.html?post=${encodeURIComponent(file.download_url)}" class="Buttonsr" style="display: inline-block; text-decoration: none; margin-top: 15px;">ƒå√çST V√çCE</a>
                    `;
                    container.appendChild(card);
                }
            }
        } catch (error) {
            console.error(error);
            container.innerHTML = '<p>Zat√≠m tu nejsou ≈æ√°dn√© novinky.</p>';
        }
    }

    fetchPosts();
</script>

</body>
</html>
