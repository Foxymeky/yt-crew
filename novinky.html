<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Novinky | Youtube crew</title>
</head>
<body>
<header class="header">
    <nav class="navbar">
        <div class="logo-wrapper">
            <div class="logo">Youtube crew</div>
            <img src="https://cdn.discordapp.com/icons/1359920482975092937/81b95047eb32eddfb9831fc39bcd3fe1.jpg" alt="Logo" class="youtube-icon">
        </div>
        <ul class="nav-links">
            <li><a href="index.html">Dom≈Ø</a></li>
            <li><a href="novinky.html">Novinky</a></li>
            <li><a href="abt.html">O n√°s</a></li>
            <li><a href="kontakt.html">Kontakt</a></li>
        </ul>
    </nav>
</header>

<main>
    <section class="hero" style="background: linear-gradient(135deg, #ff0000, #1a1a1a); padding: 60px 20px; text-align: center;">
        <h1 class="future_text">Novinky z na≈°√≠ tvorby üöÄ</h1>
        <p>V≈°echno, co se u n√°s dƒõje, na jednom m√≠stƒõ.</p>
    </section>

    <section class="features" id="posts-container">
        <p id="loading">Naƒç√≠t√°m novinky...</p>
    </section>
</main>

<footer class="footer">
    <p>&copy; 2026 Youtube Crew. V≈°echna pr√°va vyhrazena.</p>
</footer>

<script>
    // Nastaven√≠ - TADY DOPL≈á SVOJE √öDAJE
    const GITHUB_USERNAME = 'Foxymeky'; 
    const REPO_NAME = 'yt-crew';
    const FOLDER_PATH = 'content/posts';

    async function fetchPosts() {
        const container = document.getElementById('posts-container');
        try {
            // 1. Z√≠sk√°me seznam soubor≈Ø ze slo≈æky na GitHubu
            const response = await fetch(`https://api.github.com/repos/${GITHUB_USERNAME}/${REPO_NAME}/contents/${FOLDER_PATH}`);
            const files = await response.json();

            if (!Array.isArray(files)) throw new Error("Slo≈æka neexistuje nebo je pr√°zdn√°");

            container.innerHTML = ''; // Vyma≈æeme n√°pis "Naƒç√≠t√°m..."

            // 2. Projdeme ka≈æd√Ω soubor a vytvo≈ô√≠me kartu
            for (const file of files) {
                if (file.name.endsWith('.md')) {
                    // Z√≠sk√°me obsah souboru
                    const contentRes = await fetch(file.download_url);
                    const contentText = await contentRes.text();

                    // Velmi jednoduch√© "vyta≈æen√≠" titulku z Markdownu (hled√° prvn√≠ ≈ô√°dek s # nebo title:)
                    const title = contentText.match(/title:\s*(.*)/)?.[1] || file.name.replace('.md', '');
                    const cleanTitle = title.replace(/['"]/g, '');

                    // Vytvo≈ôen√≠ HTML karty
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <h3>${cleanTitle} üé¨</h3>
                        <p>Kliknut√≠m na GitHub si m≈Ø≈æe≈° p≈ôeƒç√≠st cel√Ω p≈ô√≠spƒõvek.</p>
                        <a href="${file.html_url}" target="_blank" style="color: #ff4757; text-decoration: none; font-size: 14px;">ƒå√≠st v√≠ce ‚Üí</a>
                    `;
                    container.appendChild(card);
                }
            }
        } catch (error) {
            console.error(error);
            container.innerHTML = '<p>Zat√≠m tu nejsou ≈æ√°dn√© novinky. P≈ôidej je v admin panelu!</p>';
        }
    }

    fetchPosts();
</script>
</body>

</html>
